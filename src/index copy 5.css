/* src/index.css - FINAL CLEAN VERSION - January 22, 2026 */

/* Font Import – Keep at top for fast FCP */
@import 'leaflet/dist/leaflet.css';
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ──────────────────────────────────────────────────────────
   ROOT VARIABLES – Typography, Colors, Leading
─────────────────────────────────────────────────────────── */
:root {
  /* ── Typography Scale (clamped – responsive) ── */
  --text-xs:   clamp(0.65rem, 0.64rem + 0.08vw, 0.6875rem);   /* ~10.4–11px */
  --text-sm:   clamp(0.6875rem, 0.68rem + 0.09vw, 0.75rem);   /* ~11–12px */
  --text-base: clamp(0.75rem,  0.74rem + 0.1vw,  0.8125rem);  /* ~12–13px – BODY */
  --text-lg:   clamp(0.8125rem, 0.8rem + 0.11vw,  0.875rem);  /* ~13–14px */
  --text-xl:   clamp(0.875rem,  0.86rem + 0.12vw, 0.9375rem); /* ~14–15px */
  --text-2xl:  clamp(1rem,      0.98rem + 0.14vw, 1.125rem);  /* ~16–18px */
  --text-3xl:  clamp(1.125rem,  1.1rem + 0.16vw,  1.25rem);   /* ~18–20px */
  --text-4xl:  clamp(1.25rem,   1.22rem + 0.18vw, 1.5rem);    /* ~20–24px */
  --text-5xl:  clamp(1.5rem,    1.45rem + 0.2vw,  1.75rem);   /* ~24–28px */
  --text-6xl:  clamp(1.75rem,   1.7rem + 0.22vw,  2rem);      /* ~28–32px max */

  /* ── Line Heights ── */
  --leading-tight:   1.1;
  --leading-normal:  1.4;
  --leading-relaxed: 1.6;

  /* ── Colors ── */
  --color-primary:       #3b82f6;  /* Blue-500 */
  --color-primary-light: #60a5fa;  /* Blue-400 */
  --color-text:          #e2e8f0;  /* Slate-200 */
  --color-background:    #0f172a;  /* Slate-950 */

  /* ── Font Family ── */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;

  /* ── Navbar height (used for scroll-padding & main offset) ── */
  --navbar-height: 5rem;  /* 80px – matches scroll-padding-top: 80px; */
}

/* ──────────────────────────────────────────────────────────
   RESPONSIVE ROOT FONT SCALING
─────────────────────────────────────────────────────────── */
@media (min-width: 1536px) {
  :root { font-size: 14px; } /* Cap on ultra-wide */
}

@media (max-width: 640px) {
  :root { font-size: 15.5px; } /* Readable base on phones */
}

/* ──────────────────────────────────────────────────────────
   GLOBAL BASE STYLES
─────────────────────────────────────────────────────────── */
html {
  font-size: 100%;
  scroll-behavior: smooth;
  scroll-padding-top: var(--navbar-height); /* Prevents content jump under fixed navbar */
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  font-weight: 400;
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  min-height: 100vh;
  overflow-x: hidden;
}

/* ──────────────────────────────────────────────────────────
   ACCESSIBILITY & SCROLLBARS
─────────────────────────────────────────────────────────── */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(59, 130, 246, 0.3) transparent;
}

*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.3);
  border-radius: 3px;
}

*::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.5);
}

::selection {
  background: rgba(59, 130, 246, 0.3);
  color: white;
}

*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
}

:focus:not(:focus-visible) {
  outline: none;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}

/* ──────────────────────────────────────────────────────────
   TYPOGRAPHY UTILITIES
─────────────────────────────────────────────────────────── */
h1, .text-6xl { font-size: var(--text-6xl); font-weight: 800; line-height: var(--leading-tight); letter-spacing: -0.02em; }
h2, .text-5xl { font-size: var(--text-5xl); font-weight: 800; line-height: var(--leading-tight); letter-spacing: -0.015em; }
h3, .text-4xl { font-size: var(--text-4xl); font-weight: 700; line-height: 1.2; letter-spacing: -0.01em; }
h4, .text-3xl { font-size: var(--text-3xl); font-weight: 700; line-height: 1.25; }
h5, .text-2xl { font-size: var(--text-2xl); font-weight: 600; line-height: 1.3; }
h6, .text-xl  { font-size: var(--text-xl);  font-weight: 600; line-height: 1.35; }

p, li, .text-base { font-size: var(--text-base); line-height: var(--leading-relaxed); font-weight: 400; }
.text-lg { font-size: var(--text-lg); line-height: var(--leading-relaxed); font-weight: 500; }
.text-sm { font-size: var(--text-sm); line-height: var(--leading-normal);  font-weight: 400; }
.text-xs { font-size: var(--text-xs); line-height: var(--leading-normal);  font-weight: 400; }

/* ──────────────────────────────────────────────────────────
   LINKS & BUTTONS
─────────────────────────────────────────────────────────── */
a {
  color: var(--color-primary-light);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover, a:focus-visible {
  color: var(--color-primary);
}

button, a.btn, .font-semibold { font-weight: 600; }

/* ──────────────────────────────────────────────────────────
   UTILITIES
─────────────────────────────────────────────────────────── */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.animate-shimmer { animation: shimmer 2s infinite; }

/* ──────────────────────────────────────────────────────────
   LOTTIE CONTAINER LIMIT
─────────────────────────────────────────────────────────── */
.lottie-wrapper {
  max-height: 85vh;
}

/* ──────────────────────────────────────────────────────────
   CTA PAGE – RESPONSIVE & FONT TWEAKS
─────────────────────────────────────────────────────────── */
.cta-headline {
  font-size: clamp(2rem, 5vw, 3.75rem);  /* 32px–60px */
  line-height: 1.1;
  letter-spacing: -0.02em;
}

.cta-subheadline {
  font-size: clamp(1rem, 3.5vw, 1.25rem);
  line-height: 1.6;
}

.cta-metrics-card {
  padding: clamp(1rem, 2vw, 1.5rem);
}

.cta-metrics-number {
  font-size: clamp(2rem, 6vw, 3rem);
  font-weight: 800;
}

.cta-metrics-label {
  font-size: clamp(0.75rem, 2vw, 0.875rem);
  font-weight: 500;
}

.cta-lottie-container {
  max-width: clamp(300px, 50vw, 480px);
  max-height: clamp(300px, 50vw, 480px);
  aspect-ratio: 4 / 3;
}

.cta-benefit {
  font-size: clamp(0.875rem, 2.5vw, 1rem);
  gap: clamp(0.5rem, 1vw, 0.75rem);
}

.cta-button {
  padding: clamp(0.75rem 1.5rem, 2vw 4vw, 1rem 2rem);
  font-size: clamp(0.875rem, 2.5vw, 1.125rem);
}

.cta-trust {
  font-size: clamp(0.75rem, 2vw, 0.875rem);
}

.cta-section {
  padding-top: clamp(4rem, 10vh, 6rem);
  padding-bottom: clamp(4rem, 10vh, 6rem);
  gap: clamp(1.5rem, 4vh, 2.5rem);
}

@media (max-width: 640px) {
  .cta-section { padding-left: 1rem; padding-right: 1rem; }
  .cta-lottie-container { aspect-ratio: 1 / 1; } /* Square on mobile */
}

@media (min-width: 1024px) {
  .cta-headline { letter-spacing: -0.03em; }
}

/* ──────────────────────────────────────────────────────────
   LEAFLET CUSTOM POPUP – Rectangular, dark, modern (matches screenshot)
─────────────────────────────────────────────────────────── */
/* Make the popup wider + better looking */
.leaflet-popup-content-wrapper {
  min-width: 320px !important;           /* Default is ~200–250px – make wider */
  max-width: 420px !important;           /* or 480px if you want even wider */
  width: auto !important;                /* let content decide, but respect min/max */
  background: rgba(15, 23, 42, 0.94) !important;
  border: 1px solid rgba(59, 130, 246, 0.4) !important;
  border-radius: 12px !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Inner content – give more breathing room */
.leaflet-popup-content {
  margin: 0 !important;
  padding: 20px !important;             /* ← increased padding = feels wider */
  font-size: 0.95rem;
  line-height: 1.5;
  max-width: none !important;           /* prevent text from forcing narrow width */
}

/* Optional: even wider on larger screens */
@media (min-width: 768px) {
  .leaflet-popup-content-wrapper {
    min-width: 380px !important;
    max-width: 520px !important;
  }
}

/* Keep the tip (arrow) matching */
.leaflet-popup-tip {
  background: rgba(227, 117, 49, 0.94) !important;
}

.leaflet-popup-content {
  margin: 0 !important;
  padding: 16px !important;
  font-size: 0.45rem;
  line-height: 1.45;
}

.leaflet-popup-tip {
  background: rgba(15, 23, 42, 0.94) !important;
  border-left: 1px solid rgba(59, 130, 246, 0.4) !important;
  border-right: 1px solid rgba(59, 130, 246, 0.4) !important;
}

/* Smaller on mobile */
@media (max-width: 640px) {
  .leaflet-popup-content { padding: 12px !important; font-size: 0.85rem; }
}

/* ──────────────────────────────────────────────────────────
   MAIN CONTENT OFFSET
─────────────────────────────────────────────────────────── */
main {
  padding-top: var(--navbar-height);
}

/* ──────────────────────────────────────────────────────────
   FORCE CRISP TEXT
─────────────────────────────────────────────────────────── */
* {
  text-shadow: 0 0 1px rgba(0,0,0,0.02);
}




/* Add these to the bottom of your existing index.css */

/* CTA Metrics – small font on mobile, no overlap on resize */
.cta-metrics .text-3xl {
  font-size: clamp(1.75rem, 4vw, 2.25rem); /* Smaller & fluid */
}

.cta-metrics .text-sm {
  font-size: clamp(0.75rem, 2vw, 0.875rem); /* Even smaller labels */
}

/* Lottie – dynamic sizing on resize */
.cta-lottie {
  max-height: clamp(280px, 40vh, 380px); /* Adjusts to viewport height */
  max-width: clamp(320px, 60vw, 440px);
}

/* Rotating text – ensure no overflow on resize */
.cta-rotating-text {
  min-height: 1.5em; /* Prevents jump on text change */
  display: inline-block;
  white-space: nowrap; /* Or pre-wrap if needed */
}

/* Media query for ultra-small screens */
@media (max-width: 480px) {
  .cta-metrics {
    grid-template-columns: 1fr; /* Stack vertically if too narrow */
  }
  .cta-lottie {
    aspect-ratio: 1 / 1; /* Square to avoid crop */
  }
}